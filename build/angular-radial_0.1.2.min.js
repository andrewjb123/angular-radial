angular.module("fullscreen.radial",[]),angular.module("fullscreen.radial").directive("radial",function(e){return{restrict:"E",replace:!0,template:'<canvas class="fullscreen-radial radial"></canvas>',scope:{radius:"=",lineWidth:"=",lineCap:"@",percentComplete:"=",bgColor:"@",color:"@",fontFamily:"@"},link:function(n,t){var r,l,i,o,a,c,u,d,f,s,p,m,C,h,g,v,b,x,y,w;return l="c9e0f4",a="4c98dc",b=100,v=55,g="butt",y=void 0,w=void 0,p='Monaco, Consolas, "Lucida Console", monospace',i=angular.element(t)[0],c=i.getContext("2d"),n.radius&&(b=n.radius),n.lineWidth&&(v=n.lineWidth),n.lineCap&&(g=n.lineCap),n.fontFamily&&(p=n.fontFamily),n.bgColor&&(l=n.bgColor),n.color&&(a=n.color),s=2*(b+v),y=b+v,w=b+v,i.width=s,i.height=s,m=function(){return angular.isNumber(n.percentComplete)?360*n.percentComplete/100:void 0},h=function(e){return e*Math.PI/180},x=35,C=function(){return(b+2*v)*x/100},o=function(){return i.width=i.width},u=function(e,n,t){var r,l;return c.beginPath(),c.strokeStyle="#"+t,c.lineWidth=v/2,c.lineCap=g,l=h(e),r=h(n),c.arc(y,w,b,l,r),c.stroke()},d=function(){return u(-270,90,l)},f=function(e){var n;return o(),d(),n=90+m(e),u(90,n,a),r(e)},r=function(e){var n;return c.fillStyle=a,n=C(),c.font=""+n+"px "+p,c.textAlign="center",c.textBaseline="middle",e=Math.round(e),c.fillText(""+e+"%",y,w)},e(function(){return f(n.percentComplete)}),n.render=f,n.clear=o,n.$watch("percentComplete",function(e){return f(e)})}}});