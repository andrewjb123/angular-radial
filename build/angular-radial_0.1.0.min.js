(function(){angular.module("gunslinger.radial",[]),angular.module("gunslinger.radial").directive("radial",function(e){var n,t,r,i,o,l,a,c,u,d;return n="c9e0f4",r="4c98dc",t=void 0,i=void 0,c=100,a=55,l="butt",u=void 0,d=void 0,o='Monaco, Consolas, "Lucida Console", monospace',{restrict:"E",replace:!0,template:'<canvas class="radial"></canvas>',scope:{radius:"=",lineWidth:"=",lineCap:"@",percentComplete:"=",bgColor:"@",color:"@",fontFamily:"@"},link:function(e,p){var f;return t=angular.element(p).get(0),i=t.getContext("2d"),e.radius&&(c=e.radius),e.lineWidth&&(a=e.lineWidth),e.lineCap&&(l=e.lineCap),e.fontFamily&&(o=e.fontFamily),e.bgColor&&(n=e.bgColor),e.color&&(r=e.color),f=2*(c+a),t.width=f,t.height=f,u=c+a,d=c+a},controller:function(p){var f,s,m,C,g,v,h,b,w;return v=function(e){return null==e&&(e=p.percentComplete),_.isNumber(e)?360*e/100:void 0},b=function(e){return e*Math.PI/180},w=35,h=function(){return(c+2*a)*w/100},s=function(){return t.width=t.width},m=function(e,n,t){var r,o;return i.beginPath(),i.strokeStyle="#"+t,i.lineWidth=a/2,i.lineCap=l,o=b(e),r=b(n),i.arc(u,d,c,o,r),i.stroke()},C=function(){return m(-270,90,n)},g=function(){var e;return s(),C(),e=90+v(p.percentComplete),m(90,e,r),p.percentComplete>0?f(p.percentComplete):void 0},f=function(){var e,n;return i.fillStyle=r,e=h(),i.font=""+e+"px "+o,i.textAlign="center",i.textBaseline="middle",n=Math.round(p.percentComplete),i.fillText(""+n+"%",u,d)},e(function(){return g()}),p.drawMeter=g,p.$watch("percentComplete",function(){return g()})}}})}).call(this);