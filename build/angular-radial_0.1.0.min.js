angular.module("fullscreen.radial",[]),angular.module("fullscreen.radial").directive("radial",function(e){return{restrict:"E",replace:!0,template:'<canvas class="fullscreen-radial radial"></canvas>',scope:{radius:"=",lineWidth:"=",lineCap:"@",percentComplete:"=",bgColor:"@",color:"@",fontFamily:"@"},link:function(n,t){var r,l,i,o,a,c,u,d,f,p,s,C,m,h,v,g,b,x,y,w;return l="c9e0f4",a="4c98dc",b=100,g=55,v="butt",y=void 0,w=void 0,s='Monaco, Consolas, "Lucida Console", monospace',i=angular.element(t)[0],c=i.getContext("2d"),n.radius&&(b=n.radius),n.lineWidth&&(g=n.lineWidth),n.lineCap&&(v=n.lineCap),n.fontFamily&&(s=n.fontFamily),n.bgColor&&(l=n.bgColor),n.color&&(a=n.color),p=2*(b+g),y=b+g,w=b+g,i.width=p,i.height=p,C=function(){return n.percentComplete?360*n.percentComplete/100:void 0},h=function(e){return e*Math.PI/180},x=35,m=function(){return(b+2*g)*x/100},o=function(){return i.width=i.width},u=function(e,n,t){var r,l;return c.beginPath(),c.strokeStyle="#"+t,c.lineWidth=g/2,c.lineCap=v,l=h(e),r=h(n),c.arc(y,w,b,l,r),c.stroke()},d=function(){return u(-270,90,l)},f=function(e){var n;return o(),d(),n=90+C(e),u(90,n,a),e>0?r(e):void 0},r=function(){var e,t;return c.fillStyle=a,e=m(),c.font=""+e+"px "+s,c.textAlign="center",c.textBaseline="middle",t=Math.round(n.percentComplete),c.fillText(""+t+"%",y,w)},e(function(){return f(n.percentComplete)}),n.render=f,n.clear=o,n.$watch("percentComplete",function(e){return f(e)})}}});