angular.module("fullscreen.radial",[]);
angular.module("fullscreen.radial").directive("radial",function(e){return{restrict:"E",replace:!0,template:'<canvas class="fullscreen-radial radial"></canvas>',scope:{radius:"=",lineWidth:"@",lineCap:"@",percentComplete:"=",bgColor:"@",color:"@",fontFamily:"@"},link:function(t,n){var r,o,l,i,a,c,u,d,p,f,s,C,m,h,v,g,b,x,y,w;return o="c9e0f4",a="4c98dc",b=100,g=55,v="butt",y=void 0,w=void 0,s='Monaco, Consolas, "Lucida Console", monospace',l=angular.element(n)[0],c=l.getContext("2d"),t.radius&&(b=t.radius),t.lineWidth&&(g=t.lineWidth),t.lineCap&&(v=t.lineCap),t.fontFamily&&(s=t.fontFamily),t.bgColor&&(o=t.bgColor),t.color&&(a=t.color),f=2*(b+g),y=b+g,w=b+g,l.width=f,l.height=f,C=function(){return t.percentComplete?360*t.percentComplete/100:void 0},h=function(e){return e*Math.PI/180},x=35,m=function(){return(b+2*g)*x/100},i=function(){return l.width=l.width},u=function(e,t,n){var r,o;return c.beginPath(),c.strokeStyle="#"+n,c.lineWidth=g/2,c.lineCap=v,o=h(e),r=h(t),c.arc(y,w,b,o,r),c.stroke()},d=function(){return u(-270,90,o)},p=function(){var e;return i(),d(),e=90+C(t.percentComplete),u(90,e,a),t.percentComplete>0?(r(t.percentComplete),console.log("color",a)):void 0},r=function(){var e,n;return c.fillStyle=a,e=m(),c.font=""+e+"px "+s,c.textAlign="center",c.textBaseline="middle",n=Math.round(t.percentComplete),c.fillText(""+n+"%",y,w)},e(function(){return p()}),t.$watch("percentComplete",function(){return p()}),t.render=p,t.clear=i}}});